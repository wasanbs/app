<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Busisoft Portal - ศูนย์รวมแอปพลิเคชัน</title>

    <link rel="icon" href="logo1.png" type="image/png">

    <script src="https://cdn.tailwindcss.com?play"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

    <link rel="stylesheet" href="style.css">

</head>
<body class="text-gray-800">
<!-- Theme Switcher -->
<div id="theme-switcher" class="fixed top-20 right-6 z-50 px-3 py-2 rounded-xl">
  <label for="theme-select" class="text-xs opacity-80 mr-2">Theme</label>
  <select id="theme-select" class="px-2 py-1 rounded-md border text-sm bg-white/80">
    <option value="glass">Glass</option>
    <option value="flat">Flat</option>
    <option value="login">Login</option>
    <option value="dark">Dark</option>
  </select>
</div>

    <header class="bg-primary text-white shadow-md sticky top-0 z-50">
       <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <img src="logo1.png" type="image/png" alt="Busisoft Logo" class="header-logo h-10 w-auto mr-3">
                    <span class="inline-block text-xl font-semibold">Busisoft Portal</span>
                </div>
                <div class="flex items-center gap-4">
                    <div id="header-date-time-wrapper" class="text-right">
                        <div id="header-date" class="text-sm font-medium leading-tight"></div>
                        <div id="header-time" class="text-sm font-semibold leading-tight"></div>
                    </div>
                    <div class="relative">
                        <button id="profile-toggle-btn" class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white font-bold text-base hover:bg-white/30 transition-colors"> Admin </button>
                        <div id="profile-dropdown">
                            <div class="p-4 border-b border-gray-100"> <div class="font-semibold">Admin</div> <div class="text-sm text-gray-500">admin@busisoft.co.th</div> </div>
                            <button id="admin-toggle-btn" class=""> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg> <span>Admin Mode</span> </button>
                            <a href="#" class="flex items-center gap-3 p-4 hover:bg-gray-50 transition-colors"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> <span>ออกจากระบบ</span> </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main class="container mx-auto p-4 sm:p-6 lg:p-8">

        <div class="flex flex-col md:flex-row justify-between items-center mb-10 gap-8">
            <div class="w-full md:w-2/5">
                <h1 id="hero-title" class="text-3xl md:text-4xl font-bold mb-2">Application Hub</h1>
                <p id="hero-subtitle" class="mt-1 text-lg">
                    ศูนย์รวมแอปพลิเคชันและเครื่องมือสำหรับพนักงาน<br>
                    เข้าถึงทุกระบบได้จากที่เดียว<br>
                    <span class="font-semibold text-gray-700">Simple. Central. Connected.</span>
                </p>
            </div>
            <div class="w-full md:w-3/5 flex items-center justify-center min-h-[180px] illustration-container bg-white/50 backdrop-filter backdrop-blur-sm p-4 rounded-lg shadow-sm border border-gray-200/50">
                <img src="k8e3trms2hkiuuqp0ak4jicct7.png" alt="Application Hub Illustration" class="w-full h-auto max-h-[250px] object-contain rounded-md">
            </div>
        </div>

        <div id="controls-bar" class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
            <div class="search-container relative w-full md:flex-grow md:max-w-sm">
                 <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                     <svg class="w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" /></svg>
                 </div>
                 <input type="search" id="search-box" placeholder="ค้นหาแอปพลิเคชัน..." class="w-full text-sm border-gray-300 rounded-md shadow-sm pl-10 focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 py-2.5">
             </div>

             <div class="display-options-container flex items-center gap-2">
                 <div class="flex items-center gap-1 bg-white/50 backdrop-filter backdrop-blur-sm p-1 rounded-md border border-gray-200/30">
                     <button id="layout-grid-btn" class="view-control-btn" title="Grid View"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg></button>
                     <button id="layout-compact-btn" class="view-control-btn" title="Compact View"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 3h3v3H3zM9 3h3v3H9zM15 3h3v3h-3zM3 9h3v3H3zM9 9h3v3H9zM15 9h3v3h-3zM3 15h3v3H3zM9 15h3v3H9zM15 15h3v3h-3z"/></svg></button>
                     <button id="layout-list-btn" class="view-control-btn" title="List View"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></button>
                 </div>

                 <div class="flex items-center bg-white/50 backdrop-filter backdrop-blur-sm p-1 rounded-md border border-gray-200/30">
                     <button id="font-size-decrease-btn" class="view-control-btn" title="ลดขนาดตัวอักษร">
                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                     </button>
                     <span id="font-size-display" class="text-sm font-medium text-gray-700 w-12 h-10 flex items-center justify-center bg-white rounded-sm mx-1 border border-gray-200">100%</span>
                     <button id="font-size-increase-btn" class="view-control-btn" title="เพิ่มขนาดตัวอักษร">
                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                     </button>
                     <button id="reset-defaults-btn" class="view-control-btn ml-1" title="Reset View">
                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 4v6h-6"/><path d="M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>
                     </button>
                 </div>
             </div>
         </div>
        <section id="admin-panel" class="mb-10 p-6 bg-white/80 backdrop-filter backdrop-blur-sm rounded-lg shadow-md border border-gray-200/50">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Admin Control Panel</h2>
            <div class="flex items-center gap-4">
                <button id="add-category-btn" class="font-semibold py-2 px-4 rounded-lg transition-colors">➕ เพิ่มหมวดหมู่ใหม่</button>
                <button id="add-app-btn" class="font-semibold py-2 px-4 rounded-lg transition-colors">➕ เพิ่มแอปใหม่</button>
            </div>
        </section>

        <section id="recent-apps-section" class="mb-10"></section>

        <div id="dynamic-sections-container"></div>
    </main>

    <footer class="bg-primary text-white text-center mt-8 py-6">
        <p class="opacity-90">&copy; 2025 Busisoft. All Rights Reserved.</p>
        <div class="flex justify-center gap-6 mt-4">
            <a href="https://busisoft.co.th/" target="_blank" rel="noopener noreferrer" title="Busisoft Website" class="hover:opacity-75 transition-opacity"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></a>
            <a href="https://www.facebook.com/busisoftthai" target="_blank" rel="noopener noreferrer" title="Facebook" class="hover:opacity-75 transition-opacity"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a>
            <a href="https://www.youtube.com/@busisoftthailand7568" target="_blank" rel="noopener noreferrer" title="YouTube" class="hover:opacity-75 transition-opacity"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2A29 29 0 0 0 23 11.75a29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg></a>
            <a href="https://www.instagram.com/busisoft_official/" target="_blank" rel="noopener noreferrer" title="Instagram" class="hover:opacity-75 transition-opacity"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a>
        </div>
    </footer>

    <div id="admin-modal-overlay" class="hidden fixed inset-0 bg-black/40 backdrop-filter backdrop-blur-sm z-50 flex items-center justify-center p-4 opacity-0">
        <div id="admin-modal-content" class="bg-white rounded-lg shadow-xl w-full max-w-lg p-6 transform scale-95 opacity-0">
            <div class="flex justify-between items-center mb-4 border-b pb-3"> <h3 id="admin-modal-title" class="text-2xl font-bold text-gray-800"></h3> <button id="admin-modal-close-btn" class="text-gray-500 hover:text-gray-800 text-3xl leading-none">&times;</button> </div>
            <form id="admin-modal-form" class="space-y-4 max-h-[60vh] overflow-y-auto pr-2"></form>
            <div class="flex justify-end gap-3 mt-6 pt-4 border-t"> <button id="admin-modal-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-5 rounded-lg hover:bg-gray-300">ยกเลิก</button> <button id="admin-modal-save-btn" class="bg-primary text-white font-semibold py-2 px-5 rounded-lg hover:bg-blue-700">บันทึก</button> </div>
        </div>
    </div>

    <button id="gemini-fab" class="fixed bottom-8 right-8 bg-primary text-white w-16 h-16 rounded-full flex items-center justify-center shadow-lg hover:bg-blue-700 transition-colors z-40"> <span class="text-3xl">🤖</span> </button>

    <script src="app.js"></script>
    <script src="gemini-logic.js"></script> </body>
</html>